/*! chiropractor 0.1.15 (2013-12-17) */
!function(){"object"!=typeof JSON&&(JSON={}),function(){function f(a){return 10>a?"0"+a:a}function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g,h=gap,i=b[a];switch(i&&"object"==typeof i&&"function"==typeof i.toJSON&&(i=i.toJSON(a)),"function"==typeof rep&&(i=rep.call(b,a,i)),typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";if(gap+=indent,g=[],"[object Array]"===Object.prototype.toString.apply(i)){for(f=i.length,c=0;f>c;c+=1)g[c]=str(c,i)||"null";return e=0===g.length?"[]":gap?"[\n"+gap+g.join(",\n"+gap)+"\n"+h+"]":"["+g.join(",")+"]",gap=h,e}if(rep&&"object"==typeof rep)for(f=rep.length,c=0;f>c;c+=1)"string"==typeof rep[c]&&(d=rep[c],e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));else for(d in i)Object.prototype.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));return e=0===g.length?"{}":gap?"{\n"+gap+g.join(",\n"+gap)+"\n"+h+"}":"{"+g.join(",")+"}",gap=h,e}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(a,b,c){var d;if(gap="",indent="","number"==typeof c)for(d=0;c>d;d+=1)indent+=" ";else"string"==typeof c&&(indent=c);if(rep=b,b&&"function"!=typeof b&&("object"!=typeof b||"number"!=typeof b.length))throw new Error("JSON.stringify");return str("",{"":a})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&"object"==typeof e)for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=walk(e,c),void 0!==d?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),define("json-ie7",function(a){return function(){var b;return b||a.JSON}}(this)),define("chiropractor/views/base",["require","underscore","json-ie7","jquery","backbone","handlebars"],function(a){var b,c=a("underscore"),d=(a("json-ie7"),a("jquery")),e=a("backbone"),f=a("handlebars"),g=d("<span></span>"),h=!1;return g.on("remove",function(){h=!0}),g.remove(),h||(d.event.special.remove={remove:function(a){if(a.handler){var b=d(this);b.hasClass("removedEventFired")||(b.addClass("removedEventFired"),a.handler.call(this,new d.Event("remove",{target:this})))}}}),b=function(a){return"chiropractorId"+a.cid},e.View.extend({initialize:function(a){a=a||{},e.View.prototype.initialize.call(this,a),c.bindAll(this,"remove"),this._childViews=[],this._context=a.context||{},this.$el.on("remove",this.remove)},_addChild:function(a){return this._childViews.push(a),"<"+a.el.tagName+' id="'+b(a)+'"></div>'},context:function(){return{model:this.model,collection:this.collection}},render:function(){var a="string"==typeof this.template?f.compile(this.template):this.template,d="function"==typeof this.context?this.context():this.context;return d.declaringView=this,c.defaults(d,this._context),a&&this.$el.html(a(d)),c(this._childViews).each(function(a){this.$("#"+b(a)).replaceWith(a.el)},this),this},remove:function(){this.$el.addClass("removedEventFired"),this.$el.off("remove",this.remove),c(this._childViews).each(function(a){a.remove()}),this._childViews=[],e.View.prototype.remove.apply(this,arguments)}})}),define("chiropractor/views/form",["require","underscore","json-ie7","jquery","backbone","./base"],function(a){var b=a("underscore"),c=(a("json-ie7"),a("jquery")),d=a("backbone"),e=a("./base");return e.extend({initialize:function(){e.prototype.initialize.apply(this,arguments),this.listenForErrors(this.model),this.listenForErrors(this.collection)},listenForErrors:function(a){if(a)if(a instanceof d.Model)this.listenTo(a,"invalid",this.renderFormErrors),this.listenTo(a,"change",this.clearFormErrors);else{if(!(a instanceof d.Collection))throw new Error("Invalid object to associate errors with.");a.each(function(a){this.listenTo(a,"invalid",this.renderFormErrors),this.listenTo(a,"change",this.clearFormErrors)},this)}},clearFormErrors:function(a){b(a.changed).each(function(b,c){this.$("#container-"+a.fieldId(c)).find(".help-inline").html("")},this)},renderFormErrors:function(a,d){b(d).each(function(b,d){var e;b="string"==typeof b?[b]:b,"__all__"===d?(e=c('<div class="errors"></div>'),this.$el.prepend(e)):e=this.$("#container-"+a.fieldId(d)).find(".help-inline"),e.html(b.join(", "))},this)}})}),define("hbs!chiropractor/views/templates/fields/label",["hbs","handlebars"],function(a,b){var c=b.template(function(a,b,c){c=c||a.helpers;var d,e,f="function",g=this.escapeExpression;return e=c.value,e?d=e.call(b,{hash:{}}):(d=b.value,d=typeof d===f?d():d),g(d)});return b.registerPartial("chiropractor_views_templates_fields_label",c),c}),define("chiropractor/views/field",["require","json-ie7","jquery","underscore","handlebars","hbs!./templates/fields/label"],function(a){var b=(a("json-ie7"),a("jquery"),a("underscore")),c=a("handlebars"),d={},e=a("hbs!./templates/fields/label");return d={"default":e},c.registerHelper("field",function(a,e,f){var g=d[a],h=arguments[arguments.length-1],i=h.hash||{},j=i.field,k="",l="";return g||(g=d.default),e&&(k=e.fieldId(f),l=e.get(j.id)),b.defaults(i,{id:k,label:f,name:f,options:[],blank:!1,value:l,help:"",model:e}),new c.SafeString(g(i))}),{Templates:d,addTemplate:function(a,b){d[a]=b}}}),define("hbs!chiropractor/views/templates/row/row",["hbs","handlebars"],function(a,b){var c=b.template(function(a,b,c,d,e){function f(a,b,d){var e,f,g,h,i="";return i+="\r\n    <td>",e=d.model,f=a.fieldtype,g={},g.field=a,h=c.field,e=h?h.call(a,f,e,{hash:g}):j.call(a,"field",f,e,{hash:g}),i+=k(e)+"</td>\r\n  "}c=c||a.helpers;var g,h,i="",j=c.helperMissing,k=this.escapeExpression,l="function",m=this;return i+='<tr class="',h=c.rowclass,h?g=h.call(b,{hash:{}}):(g=b.rowclass,g=typeof g===l?g():g),i+=k(g)+'">\r\n  ',g=b.options,g=null==g||g===!1?g:g.fields,g=c.each.call(b,g,{hash:{},inverse:m.noop,fn:m.programWithDepth(f,e,b)}),(g||0===g)&&(i+=g),i+="\r\n</tr>"});return b.registerPartial("chiropractor_views_templates_row_row",c),c}),define("hbs!chiropractor/views/templates/row/error_messagebox",["hbs","handlebars"],function(a,b){var c=b.template(function(a,b,c){c=c||a.helpers;var d,e="",f="function",g=this.escapeExpression;return e+='<div id="chiropractor-error-box" style="color: #a94442;background-color: #f2dede;border-color: #ebccd1;padding: 15px;border: 1px solid transparent;border-radius: 4px;">\r\n<div aria-hidden="true" style="float:right;" onClick="javascript:var element = document.getElementById(\'chiropractor-error-box\');element.parentNode.removeChild(element);">&times;</div>\r\n<div style="font-weight:bold">',d=b.model,d=null==d||d===!1?d:d.errorMessage,d=typeof d===f?d():d,e+=g(d)+"</div>\r\n<div>Message: ",d=b.model,d=null==d||d===!1?d:d.response,d=null==d||d===!1?d:d.responseText,d=typeof d===f?d():d,e+=g(d)+"</div>\r\n<div>Status: ",d=b.model,d=null==d||d===!1?d:d.response,d=null==d||d===!1?d:d.statusText,d=typeof d===f?d():d,e+=g(d)+"</div>\r\n<div>StatusCode: ",d=b.model,d=null==d||d===!1?d:d.response,d=null==d||d===!1?d:d.status,d=typeof d===f?d():d,e+=g(d)+'</div>\r\n<div>Url: <a href="',d=b.model,d=null==d||d===!1?d:d.url,d=typeof d===f?d():d,e+=g(d)+'">',d=b.model,d=null==d||d===!1?d:d.url,d=typeof d===f?d():d,e+=g(d)+"</a></div>\r\n</div>"});return b.registerPartial("chiropractor_views_templates_row_error_messagebox",c),c}),define("chiropractor/views/row",["require","json-ie7","jquery","underscore","handlebars","hbs!./templates/row/row","hbs!./templates/row/error_messagebox"],function(a){var b=(a("json-ie7"),a("jquery"),a("underscore"),a("handlebars")),c={},d=a("hbs!./templates/row/row"),e=a("hbs!./templates/row/error_messagebox");return c={row:d,error:e},b.registerHelper("row",function(a,d){var e=c[a],f=arguments[arguments.length-1],g=f.hash||{};if(!e)throw new Error("Unregistered field template: "+a);return new b.SafeString(e({model:d,options:g}))}),{Templates:c,addTemplate:function(a,b){c[a]=b}}}),define("chiropractor/hbs/view",["require","underscore","backbone","handlebars"],function(a){var b,c=a("underscore"),d=(a("backbone"),a("handlebars"));return b=function(){var b,e,f,g,h,i,j,k,l={};return f=arguments[arguments.length-1],i=arguments[1]||{},c.defaults(i,f.hash||{}),4===arguments.length&&(l=arguments[2]),c.defaults(this,l),"string"==typeof arguments[0]?(j=arguments[0].split("|"),g=j[0],h=j[1],b=a(g),"string"==typeof h&&(b=b[h])):b=arguments[0],f.fn&&(b=b.extend({template:f.fn})),e=new b(i).render(),k=this.declaringView._addChild(e),f.fn?k:new d.SafeString(k)},d.registerHelper("view",b),b}),define("hbs!chiropractor/views/templates/formfield/text",["hbs","handlebars"],function(a,b){var c=b.template(function(a,b,c){c=c||a.helpers;var d,e,f="",g="function",h=this.escapeExpression;return f+='<div class="control-group" id="container-',e=c.id,e?d=e.call(b,{hash:{}}):(d=b.id,d=typeof d===g?d():d),f+=h(d)+'">\r\n    <label class="control-label ',e=c.labelclass,e?d=e.call(b,{hash:{}}):(d=b.labelclass,d=typeof d===g?d():d),f+=h(d)+'" for="',e=c.id,e?d=e.call(b,{hash:{}}):(d=b.id,d=typeof d===g?d():d),f+=h(d)+'">',e=c.label,e?d=e.call(b,{hash:{}}):(d=b.label,d=typeof d===g?d():d),f+=h(d)+'</label>\r\n    <div class="controls">\r\n        <input type="text" placeholder="',e=c.placeholder,e?d=e.call(b,{hash:{}}):(d=b.placeholder,d=typeof d===g?d():d),f+=h(d)+'" id="',e=c.id,e?d=e.call(b,{hash:{}}):(d=b.id,d=typeof d===g?d():d),f+=h(d)+'" name="',e=c.name,e?d=e.call(b,{hash:{}}):(d=b.name,d=typeof d===g?d():d),f+=h(d)+'" value="',e=c.value,e?d=e.call(b,{hash:{}}):(d=b.value,d=typeof d===g?d():d),f+=h(d)+'" class="',e=c["class"],e?d=e.call(b,{hash:{}}):(d=b["class"],d=typeof d===g?d():d),f+=h(d)+'" />\r\n        <span class="description">',e=c.description,e?d=e.call(b,{hash:{}}):(d=b.description,d=typeof d===g?d():d),f+=h(d)+'</span>\r\n        <span class="help-inline">',e=c.help,e?d=e.call(b,{hash:{}}):(d=b.help,d=typeof d===g?d():d),f+=h(d)+"</span>\r\n    </div>\r\n</div>\r\n"});return b.registerPartial("chiropractor_views_templates_formfield_text",c),c}),define("hbs!chiropractor/views/templates/formfield/textarea",["hbs","handlebars"],function(a,b){var c=b.template(function(a,b,c){c=c||a.helpers;var d,e,f="",g="function",h=this.escapeExpression;return f+='<div class="control-group" id="container-',e=c.id,e?d=e.call(b,{hash:{}}):(d=b.id,d=typeof d===g?d():d),f+=h(d)+'">\r\n    <label class="control-label" for="',e=c.id,e?d=e.call(b,{hash:{}}):(d=b.id,d=typeof d===g?d():d),f+=h(d)+'">',e=c.label,e?d=e.call(b,{hash:{}}):(d=b.label,d=typeof d===g?d():d),f+=h(d)+'</label>\r\n    <div class="controls">\r\n        <textarea id="',e=c.id,e?d=e.call(b,{hash:{}}):(d=b.id,d=typeof d===g?d():d),f+=h(d)+'" name="',e=c.name,e?d=e.call(b,{hash:{}}):(d=b.name,d=typeof d===g?d():d),f+=h(d)+'">',e=c.value,e?d=e.call(b,{hash:{}}):(d=b.value,d=typeof d===g?d():d),f+=h(d)+'</textarea>\r\n        <span class="help-inline">',e=c.help,e?d=e.call(b,{hash:{}}):(d=b.help,d=typeof d===g?d():d),f+=h(d)+"</span>\r\n    </div>\r\n</div>\r\n"});return b.registerPartial("chiropractor_views_templates_formfield_textarea",c),c}),define("hbs!chiropractor/views/templates/formfield/select",["hbs","handlebars"],function(a,b){var c=b.template(function(a,b,c,d,e){function f(a){var b,d,e="";return e+='\r\n                <option value="">',d=c.blank,d?b=d.call(a,{hash:{}}):(b=a.blank,b=typeof b===l?b():b),e+=m(b)+"</option>\r\n            "}function g(a,b,d){var e,f,g,i="";return i+='\r\n                <option value="',g=c.value,g?e=g.call(a,{hash:{}}):(e=a.value,e=typeof e===l?e():e),i+=m(e)+'"',e=d.value,f=a.value,g=c.ifequal,e=g?g.call(a,f,e,{hash:{},inverse:n.noop,fn:n.program(4,h,b)}):o.call(a,"ifequal",f,e,{hash:{},inverse:n.noop,fn:n.program(4,h,b)}),(e||0===e)&&(i+=e),i+=">",g=c.label,g?e=g.call(a,{hash:{}}):(e=a.label,e=typeof e===l?e():e),i+=m(e)+"</option>\r\n            "}function h(){return' selected="selected"'}c=c||a.helpers;var i,j,k="",l="function",m=this.escapeExpression,n=this,o=c.helperMissing;return k+='<div class="control-group" id="container-',j=c.id,j?i=j.call(b,{hash:{}}):(i=b.id,i=typeof i===l?i():i),k+=m(i)+'">\r\n    <label class="control-label ',j=c.labelclass,j?i=j.call(b,{hash:{}}):(i=b.labelclass,i=typeof i===l?i():i),k+=m(i)+'" for="',j=c.id,j?i=j.call(b,{hash:{}}):(i=b.id,i=typeof i===l?i():i),k+=m(i)+'">',j=c.label,j?i=j.call(b,{hash:{}}):(i=b.label,i=typeof i===l?i():i),k+=m(i)+'</label>\r\n    <div class="controls">\r\n        <select id="',j=c.id,j?i=j.call(b,{hash:{}}):(i=b.id,i=typeof i===l?i():i),k+=m(i)+'" name="',j=c.name,j?i=j.call(b,{hash:{}}):(i=b.name,i=typeof i===l?i():i),k+=m(i)+'">\r\n            ',i=b.blank,i=c["if"].call(b,i,{hash:{},inverse:n.noop,fn:n.program(1,f,e)}),(i||0===i)&&(k+=i),k+="\r\n            ",i=b.options,i=c.each.call(b,i,{hash:{},inverse:n.noop,fn:n.programWithDepth(g,e,b)}),(i||0===i)&&(k+=i),k+='\r\n        </select>\r\n        <span class="description">',j=c.description,j?i=j.call(b,{hash:{}}):(i=b.description,i=typeof i===l?i():i),k+=m(i)+'</span>\r\n        <span class="help-inline">',j=c.help,j?i=j.call(b,{hash:{}}):(i=b.help,i=typeof i===l?i():i),k+=m(i)+"</span>\r\n    </div>\r\n</div>\r\n"});return b.registerPartial("chiropractor_views_templates_formfield_select",c),c}),define("hbs!chiropractor/views/templates/formfield/checkbox",["hbs","handlebars"],function(a,b){var c=b.template(function(a,b,c,d,e){function f(a){var b,d,e="";return e+=' \r\n            <input type="checkbox" id="',d=c.id,d?b=d.call(a,{hash:{}}):(b=a.id,b=typeof b===j?b():b),e+=k(b)+'" name="',d=c.name,d?b=d.call(a,{hash:{}}):(b=a.name,b=typeof b===j?b():b),e+=k(b)+'" value="',d=c.value,d?b=d.call(a,{hash:{}}):(b=a.value,b=typeof b===j?b():b),e+=k(b)+'" /> ',d=c.label,d?b=d.call(a,{hash:{}}):(b=a.label,b=typeof b===j?b():b),e+=k(b)+"\r\n        "}c=c||a.helpers;var g,h,i="",j="function",k=this.escapeExpression,l=this;return i+='<div class="control-group" id="container-',h=c.id,h?g=h.call(b,{hash:{}}):(g=b.id,g=typeof g===j?g():g),i+=k(g)+'">\r\n    <label class="control-label" for="',h=c.id,h?g=h.call(b,{hash:{}}):(g=b.id,g=typeof g===j?g():g),i+=k(g)+'">',h=c.label,h?g=h.call(b,{hash:{}}):(g=b.label,g=typeof g===j?g():g),i+=k(g)+'</label>\r\n    <div class="controls">\r\n        ',g=b.options,g=c.each.call(b,g,{hash:{},inverse:l.noop,fn:l.program(1,f,e)}),(g||0===g)&&(i+=g),i+='\r\n        <span class="help-inline">',h=c.help,h?g=h.call(b,{hash:{}}):(g=b.help,g=typeof g===j?g():g),i+=k(g)+"</span>\r\n    </div>\r\n</div>\r\n"});return b.registerPartial("chiropractor_views_templates_formfield_checkbox",c),c}),define("hbs!chiropractor/views/templates/formfield/radio",["hbs","handlebars"],function(a,b){var c=b.template(function(a,b,c,d,e){function f(a){var b,d,e="";return e+=' \r\n            <input type="radio" id="',d=c.id,d?b=d.call(a,{hash:{}}):(b=a.id,b=typeof b===j?b():b),e+=k(b)+'" name="',d=c.name,d?b=d.call(a,{hash:{}}):(b=a.name,b=typeof b===j?b():b),e+=k(b)+'" value="',d=c.value,d?b=d.call(a,{hash:{}}):(b=a.value,b=typeof b===j?b():b),e+=k(b)+'" /> ',d=c.label,d?b=d.call(a,{hash:{}}):(b=a.label,b=typeof b===j?b():b),e+=k(b)+"\r\n        "}c=c||a.helpers;var g,h,i="",j="function",k=this.escapeExpression,l=this;return i+='<div class="control-group" id="container-',h=c.id,h?g=h.call(b,{hash:{}}):(g=b.id,g=typeof g===j?g():g),i+=k(g)+'">\r\n    <label class="control-label" for="',h=c.id,h?g=h.call(b,{hash:{}}):(g=b.id,g=typeof g===j?g():g),i+=k(g)+'">',h=c.label,h?g=h.call(b,{hash:{}}):(g=b.label,g=typeof g===j?g():g),i+=k(g)+'</label>\r\n    <div class="controls">\r\n        ',g=b.options,g=c.each.call(b,g,{hash:{},inverse:l.noop,fn:l.program(1,f,e)}),(g||0===g)&&(i+=g),i+='\r\n        <span class="help-inline">',h=c.help,h?g=h.call(b,{hash:{}}):(g=b.help,g=typeof g===j?g():g),i+=k(g)+"</span>\r\n    </div>\r\n</div>\r\n"});return b.registerPartial("chiropractor_views_templates_formfield_radio",c),c}),define("chiropractor/views/formfield",["require","json-ie7","jquery","underscore","handlebars","../hbs/view","./base","hbs!./templates/formfield/text","hbs!./templates/formfield/textarea","hbs!./templates/formfield/select","hbs!./templates/formfield/checkbox","hbs!./templates/formfield/radio"],function(a){var b,c,d=(a("json-ie7"),a("jquery"),a("underscore")),e=a("handlebars"),f=a("../hbs/view"),g=a("./base"),h={};return b=g.extend({events:{"change input":"inputChanged","blur input":"inputChanged","change select":"inputChanged","blur select":"inputChanged","change textarea":"inputChanged","blur textarea":"inputChanged"},initialize:function(a){g.prototype.initialize.apply(this,arguments),this.config=a.context,this.field=a.field},inputChanged:function(){var a=this.$("[name="+this.field+"]").val();this.model.set(this.field,a,{validate:!0}),this.model.set(this.field,a,{silent:!0})}}),b.register=c=function(a,b){var d=h[a]=this.extend(b);return d.register=c,d},b.unregister=function(a){h[a]&&delete h[a]},b.register("text",{template:a("hbs!./templates/formfield/text")}),b.register("textarea",{template:a("hbs!./templates/formfield/textarea")}),b.register("select",{template:a("hbs!./templates/formfield/select")}),b.register("checkbox",{template:a("hbs!./templates/formfield/checkbox")}),b.register("radio",{template:a("hbs!./templates/formfield/radio")}),e.registerHelper("formfield",function(a,b,c){var e=h[a],g=arguments[arguments.length-1],i=g.hash||{};if(!e)throw new Error("Unregistered formfield template: "+a);return d.defaults(i,{id:b.fieldId(c),label:c,name:c,options:[],blank:!1,value:b.get(c)||"",help:""}),f.call(this,e,{field:c,model:b,context:i},g)}),b}),define("chiropractor/views",["require","./views/base","./views/form","./views/field","./views/row","./views/formfield"],function(a){var b=a("./views/base"),c=a("./views/form"),d=a("./views/field"),e=a("./views/row"),f=a("./views/formfield");return{Base:b,Form:c,Row:e,Field:d,FormField:f}}),define("chiropractor/models/auth",["require","backbone","jquery","json-ie7","underscore","jquery.cookie"],function(a){var b,c,d,e,f,g,h=a("backbone"),i=a("jquery"),j=(a("json-ie7"),a("underscore")),k="wttoken",l=2,m=!1;return a("jquery.cookie"),c=function(){h.Events.trigger("authentication:expiration"),m=!0,b=setTimeout(function(){h.Events.trigger("authentication:failure")},1e3*60*l)},e=function(){return"undefined"==typeof d&&(d=i.cookie(k)),d},f=function(a){var e=a.split("::"),f=e[1],g=e[2],j=1e3*Math.max(0,g-f-60*l);d=a,i.cookie(k,a),b&&clearTimeout(b),m&&(h.Events.trigger("authentication:renewal"),m=!1),b=setTimeout(c,j)},g=function(){d=void 0,i.removeCookie(k),b&&clearTimeout(b)},h.Events.on("authentication:logout authentication:failure",g),{sync:function(a,b,c){var d=c.beforeSend,g=c.error,i=c.success,k=this,l=j(c).clone();c.success=function(a,b,c){var d=c.getResponseHeader("Authorization");return d&&f(d),i.apply(k,arguments)},c.error=function(c){return 400===c.status&&h.Events.trigger("authentication:failure",k,c),401===c.status&&(h.Events.trigger("authentication:failure",k,c),k.listenToOnce(h.Events,"authentication:success",function(){k.sync(a,b,l)})),g?g.apply(k,arguments):void 0},c.beforeSend=function(a){var b=e();return!k.disableAuthToken&&b&&a.setRequestHeader("Authorization",b),d?d.apply(this,arguments):void 0}},cleanup:g}}),define("hbs!chiropractor/views/templates/error/modelfetch",["hbs","handlebars"],function(a,b){var c=b.template(function(a,b,c){c=c||a.helpers;var d,e,f,g=c.helperMissing,h=this.escapeExpression;return d={},e=b.response,d.response=e,e=b.url,d.url=e,f=c.row,d=f?f.call(b,"error",b,{hash:d}):g.call(b,"row","error",b,{hash:d}),h(d)});return b.registerPartial("chiropractor_views_templates_error_modelfetch",c),c}),define("chiropractor/models",["require","backbone","underscore","json-ie7","jquery","./models/auth","backbone.deep.model","backbone.validation","hbs!./views/templates/error/modelfetch","underscore.mixin.deepextend"],function(a){var b,c,d,e,f=a("backbone"),g=a("underscore"),h=(a("json-ie7"),a("jquery")),i=a("./models/auth"),j=a("backbone.deep.model"),k=a("backbone.validation"),l=a("hbs!./views/templates/error/modelfetch");return"Microsoft Internet Explorer"===navigator.appName&&(d=navigator.userAgent,e=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"),null!==e.exec(d)&&(c=parseFloat(e.$1))),a("underscore.mixin.deepextend"),b=j.DeepModel.extend({errorHandler:function(a){var b;switch(a.status){case 0:b="The API was unreachable";break;case 503:b="There was an Error Communicating with the API"}h("body").before(l({url:this.url,errorMessage:b,response:a}))},successHandler:function(){},sync:function(a,b,d){switch((c>=8||!c)&&i.sync.call(this,a,b,d),a){case"read":h("#chiropractor-error-box").empty(),this.enableErrorHandler&&(d.error=this.errorHandler,d.timeout=3e4)}return f.Model.prototype.sync.call(this,a,b,d)},parse:function(a,b){return b=b||{},a.data&&a.meta?parseInt(a.meta.status,10)>=400?(b.legacyError=!0,a.meta.errors&&a.meta.errors.form?(this.validationError=a.meta.errors.form,this.trigger("invalid",this,this.validationError,g.extend(b||{},{validationError:this.validationError}))):(this.trigger("error",this,a.data,b),b.error&&b.error(this,a.data,b)),{}):a.data:f.Model.prototype.parse.apply(this,arguments)},fieldId:function(a,b){return b=b||"formfield",[b,a,this.cid].join("-")},set:function(a,b){return b&&b.legacyError?(delete b.legacyError,!1):j.DeepModel.prototype.set.apply(this,arguments)}}),g.extend(b.prototype,k.mixin),{Base:b,cleanup:i.cleanup}}),define("chiropractor/collections",["require","backbone","underscore","hbs!./views/templates/error/modelfetch","underscore.mixin.deepextend"],function(a){var b,c=a("backbone"),d=(a("underscore"),a("hbs!./views/templates/error/modelfetch"));return a("underscore.mixin.deepextend"),b=c.Collection.extend({errorHandler:function(a){var b;switch(a.status){case 0:b="The API was unreachable";break;case 503:b="There was an Error Communicating with the API"}$("body").before(d({url:this.url,errorMessage:b,response:a}))},sync:function(a,b,d){switch(a){case"read":$("#chiropractor-error-box").empty(),this.enableErrorHandler&&(d.error=this.errorHandler,d.timeout=3e4)}return c.Collection.prototype.sync.call(this,a,b,d)}}),{Base:b}}),define("chiropractor/routers",["require","backbone"],function(a){var b,c=a("backbone");return b=c.Router.extend({}),{Base:b}}),function(a){define("chiropractor/browser",["require"],function(){var b=function(){var b=-1;if("Microsoft Internet Explorer"===a.navigator.appName){var c=a.navigator.userAgent,d=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");null!==d.exec(c)&&(b=parseFloat(RegExp.$1))}return b}();return{isOldIE:-1!==b&&9>b,window:a,navigator:a.navigator,document:a.document}})}(this),define("chiropractor/debug",["require","exports","module","chiropractor/browser"],function(a,b,c){var d=a("chiropractor/browser").window,e=d.console;a.specified("console")&&a(["console"],function(a){e=a}),c.config().enabled&&(d.onerror=function(a,b,c){alert("JavaScript error: "+a+" on line "+c+" for "+b)})}),define("chiropractor/hbs/ifequal",["require","handlebars"],function(a){var b=a("handlebars");b.registerHelper("ifequal",function(a,b,c){return a===b?c.fn(this):c.inverse(this)})}),define("chiropractor/hbs/log",["require","handlebars","json-ie7"],function(a){function b(a){console.log(d.stringify(a))}var c=a("handlebars"),d=a("json-ie7");return c.registerHelper("log",b),b}),define("chiropractor/hbs",["require","./hbs/view","./hbs/ifequal","./hbs/log"],function(a){a("./hbs/view"),a("./hbs/ifequal"),a("./hbs/log")}),define("chiropractor/main",["require","backbone","underscore","backbone.subroute","./views","./models","./collections","./routers","./debug","./hbs"],function(a){var b=a("backbone"),c=(a("underscore"),a("backbone.subroute")),d=a("./views"),e=a("./models"),f=a("./collections"),g=a("./routers");return a("./debug"),a("./hbs"),{Collection:f.Base,Collections:f,Events:b.Events,history:b.history,Model:e.Base,Models:e,Router:g.Base,SubRoute:c,View:d.Base,Views:d}}),define("chiropractor",["chiropractor/main"],function(a){return a})}();
//# sourceMappingURL=chiropractor.nodeps.min.map